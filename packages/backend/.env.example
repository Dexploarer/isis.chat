# ISIS Chat Backend Environment Variables (Convex)
# ============================================================================
# Copy this file to .env and fill in your actual values
# ============================================================================

# ============================================================================
# Application Configuration
# ============================================================================
NODE_ENV=development
# For local development
CONVEX_CLOUD_URL=https://your-deployment.convex.cloud
CONVEX_DEPLOYMENT=your-deployment-name

# ============================================================================
# Convex Auth Configuration
# ============================================================================
# Core auth settings (automatically generated by Convex Auth)
# Run: npx @convex-dev/auth to initialize these values
JWT_PRIVATE_KEY=your-generated-jwt-private-key
JWKS=your-generated-jwks-configuration

# Site URL for OAuth redirects and magic links
SITE_URL=http://localhost:3001

# Debug logging for auth (set to DEBUG for detailed logs, remove in production)
AUTH_LOG_LEVEL=

# ============================================================================
# OAuth Provider Configuration (Configure as needed)
# ============================================================================
# GitHub OAuth (optional)
# AUTH_GITHUB_ID=your-github-client-id
# AUTH_GITHUB_SECRET=your-github-client-secret

# Google OAuth (optional)
# AUTH_GOOGLE_ID=your-google-client-id
# AUTH_GOOGLE_SECRET=your-google-client-secret

# Apple OAuth (optional)
# AUTH_APPLE_ID=your-apple-service-identifier
# AUTH_APPLE_SECRET=your-apple-generated-jwt-secret

# ============================================================================
# Email Provider Configuration (Optional)
# ============================================================================
# Resend for magic links and OTP (optional)
AUTH_RESEND_KEY=your-resend-api-key

# ============================================================================
# OpenAI Configuration
# ============================================================================
# OpenAI API key for AI functionality
OPENAI_API_KEY=sk-your-openai-api-key-here
# Optional: Organization ID for OpenAI
OPENAI_ORG_ID=org-your-organization-id

# ============================================================================
# Solana Blockchain Configuration
# ============================================================================
# Network: mainnet-beta, testnet, devnet, localhost
SOLANA_NETWORK=devnet
# RPC endpoint for blockchain interactions
SOLANA_RPC_URL=https://api.devnet.solana.com
# Wallet address for receiving subscription payments
SOLANA_PAYMENT_ADDRESS=YOUR_SOLANA_WALLET_ADDRESS_HERE

# ============================================================================
# Subscription Configuration
# ============================================================================
# Pricing in SOL
SUBSCRIPTION_PRO_PRICE_SOL=0.05
SUBSCRIPTION_PRO_PLUS_PRICE_SOL=0.1
# USD approximations for logging/analytics
SUBSCRIPTION_PRO_PRICE_USD=12
SUBSCRIPTION_PRO_PLUS_PRICE_USD=25

# Message limits per tier
SUBSCRIPTION_FREE_MESSAGE_LIMIT=50
SUBSCRIPTION_PRO_MESSAGE_LIMIT=1500
SUBSCRIPTION_PRO_PLUS_MESSAGE_LIMIT=3000

# Premium message limits
SUBSCRIPTION_PRO_PREMIUM_LIMIT=100
SUBSCRIPTION_PRO_PLUS_PREMIUM_LIMIT=300

# ============================================================================
# Payment Processing Configuration
# ============================================================================
# Webhook secret for payment verification
PAYMENT_WEBHOOK_SECRET=your-webhook-secret-256-bit
# Payment confirmation timeout (milliseconds)
PAYMENT_CONFIRMATION_TIMEOUT_MS=300000
# Solana commitment level for transaction confirmation
SOLANA_COMMITMENT_LEVEL=confirmed

# ============================================================================
# Database Configuration
# ============================================================================
# Storage type (convex is the default)
STORAGE_TYPE=convex

# ============================================================================
# External Services Configuration (Optional)
# ============================================================================
# Qdrant Vector Database (for RAG functionality)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key

# Supabase (alternative storage)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key

# ============================================================================
# Security Configuration
# ============================================================================
# JWT secret for authentication (server-side only)
JWT_SECRET=your-super-secret-jwt-key-256-bit-minimum
JWT_EXPIRES_IN=24h

# Rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# CORS configuration
ALLOWED_ORIGINS=http://localhost:3001,https://isis.chat
CORS_CREDENTIALS=true

# ============================================================================
# Development and Debugging
# ============================================================================
# Debug namespace
DEBUG=isis-chat:*
# Log level: error, warn, info, debug
LOG_LEVEL=info